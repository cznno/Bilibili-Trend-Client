webpackJsonp([1],{"991W":function(t,e){},GiZK:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-title",[t._v("BiliBili-趋势(゜-゜)つロ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-menu",{staticClass:"hidden-sm-and-up"},[n("v-btn",{attrs:{slot:"activator",color:"primary"},slot:"activator"},[n("v-icon",[t._v("menu")])],1),t._v(" "),n("v-list",t._l(t.menu,function(e){return n("v-list-tile",{key:e.name},[n("v-list-tile-title",{on:{click:function(n){t.go(e.route)}}},[t._v(t._s(e.name))])],1)}))],1),t._v(" "),t._l(t.menu,function(e){return n("v-toolbar-items",{key:e.name,staticClass:"hidden-xs-only"},[n("v-btn",{attrs:{flat:""},on:{click:function(n){t.go(e.route)}}},[t._v(t._s(e.name))])],1)})],2)},staticRenderFns:[]};var i={components:{MHeader:n("VU/8")({name:"m-header",data:function(){return{menu:[{route:"/main",name:"主站相关"},{route:"/up",name:"Up 相关"}]}},methods:{go:function(t){this.$router.push(t)}}},a,!1,function(t){n("qX3s")},"data-v-7915b3e5",null).exports},name:"App",data:function(){return{}},methods:{}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("m-header"),this._v(" "),e("v-content",[e("v-container",{attrs:{fluid:""}},[e("router-view")],1)],1),this._v(" "),e("v-footer",{attrs:{app:""}},[e("v-layout",{staticClass:"text-sm-center"},[this._v("\n      仅供个人学习使用 "),e("a",{attrs:{target:"_blank",href:"https://github.com/muxi2015/Bilibili-Trend-Client"}},[this._v("源代码")])])],1)],1)},staticRenderFns:[]};var c=n("VU/8")(i,s,!1,function(t){n("mY0C")},null,null).exports,o=n("/ocq"),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",[e("v-flex")],1)},staticRenderFns:[]};var l=n("VU/8")({name:"main",day:{name:"日排行"}},u,!1,function(t){n("Ptf6")},"data-v-31aff072",null).exports,p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",t._l(t.routerInfo,function(e){return n("v-flex",{key:e.router,attrs:{xs3:"",sm2:"",md2:"",lg2:""}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(n){t.go(e.router)}}},[t._v(t._s(e.name))])],1)})),t._v(" "),n("v-layout",[n("router-view")],1)],1)},staticRenderFns:[]};var f=n("VU/8")({components:{},name:"up",data:function(){return{routerInfo:[{name:"查看历史最高",router:"/up/top/"},{name:"对比 UP 信息",router:"/up/difference/"}]}},methods:{go:function(t){this.$router.push(t)}},beforeCreate:function(){this.$store.dispatch("getMainSiteRankAction")}},p,!1,function(t){n("qPdb")},"data-v-3b894ca3",null).exports,h=n("BO1k"),v=n.n(h),d=n("Dd8w"),m=n.n(d),y=n("XLwt"),b=n("NYxO"),x={name:"inputUpInfo",data:function(){return{name:"",uid:"423895",search:null}},methods:{onUid:function(){this.$store.dispatch("getUpDetailAction",this.uid)},query:function(t){this.$store.dispatch("getSearchUserRecAction",t)},onName:function(){console.log(this.RecUp),console.log(this.RecUpMID[this.RecUp.indexOf(this.name)])}},watch:{search:function(t){t&&this.query(t)}},computed:m()({},Object(b.b)(["RecUp","RecUpMID"]))},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:"",sm2:"",md4:"",lg4:""}},[n("v-text-field",{attrs:{name:"upid",placeholder:"请输入 UP 主 ID"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onUid(e)}},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),n("v-flex",{attrs:{xs4:"",sm2:""}},[n("v-btn",{on:{click:t.onUid}},[t._v("确定")])],1),t._v(" "),n("v-flex",{attrs:{xs6:"",sm3:"",md4:"",lg4:""}},[n("v-select",{attrs:{autocomplete:"","cache-items":"","search-input":t.search,items:t.RecUp,label:"尝试直接输入 UP 主昵称",disabled:!0},on:{"update:searchInput":function(e){t.search=e}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-btn",{attrs:{disabled:!0},on:{click:t.onName}},[t._v("暂时无法使用")])],1)],1)},staticRenderFns:[]};var _={name:"play-count",components:{InputUpInfo:n("VU/8")(x,g,!1,function(t){n("aDgW")},"data-v-bd02ffea",null).exports},data:function(){return{img:null,titles:[],seriesData:[],num:10}},mounted:function(){this.img=this.$refs.img},watch:{},computed:m()({},Object(b.b)(["Up","Loading"])),methods:{asc:function(){this.titles=[],this.seriesData=[];var t=this;return{byPlayCount:function(){var e=!0,n=!1,r=void 0;try{for(var a,i=v()(t.Up.asc().byPlayCount().slice(0,t.num));!(e=(a=i.next()).done);e=!0){var s=a.value;t.titles.push(s.title),t.seriesData.push(s.play)}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}t.initEcharts()},byFavorite:function(){var e=!0,n=!1,r=void 0;try{for(var a,i=v()(t.Up.asc().byFavorite().slice(0,t.num));!(e=(a=i.next()).done);e=!0){var s=a.value;t.titles.push(s.title),t.seriesData.push(s.favorites)}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}t.initEcharts()}}},initEcharts:function(){y.init(this.img).setOption({title:{text:this.Up.name+"视频热度排行",subtext:"副标题"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"0%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:this.titles},series:[{name:this.Up.name,type:"bar",data:this.seriesData}]})}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("div",[n("input-up-info")],1),t._v(" "),n("v-layout",[n("v-flex",{attrs:{sm:"5"}},[n("v-text-field",{attrs:{type:"number",disabled:t.Loading,placeholder:"要查看的数量"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),t._v(" "),n("v-flex",[n("v-btn",{attrs:{disabled:t.Loading},on:{click:function(e){t.asc().byFavorite()}}},[t._v("按收藏查看")]),t._v(" "),n("v-btn",{attrs:{disabled:t.Loading},on:{click:function(e){t.asc().byPlayCount()}}},[t._v("按播放量查看")])],1)],1),t._v(" "),n("div",{ref:"img",staticStyle:{width:"100%",height:"600px"}})],1)},staticRenderFns:[]};var U=n("VU/8")(_,w,!1,function(t){n("dCJx")},"data-v-3789cc4c",null).exports,k={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var R=n("VU/8")({name:"Difference"},k,!1,function(t){n("aIaS")},"data-v-1badd4f5",null).exports;r.a.use(o.a);var S,L,A=new o.a({mode:"history",routes:[{path:"",component:l,name:"main"},{path:"/up",component:f,children:[{path:"top",component:U},{path:"difference",component:R}]}]}),D=n("3EgV"),C=n.n(D),I={Up:null,RecUp:[],RecUpMID:[],Loading:!1,Error:!1,SearchUserRec:[]},P=n("Xxa5"),F=n.n(P),M=n("exGp"),$=n.n(M),E=n("mtWM"),q=n.n(E),V=n("M4fF"),j=n("Zrlr"),B=n.n(j),O=n("wxAW"),W=n.n(O),N=function(){function t(){B()(this,t),this.comment=1318,this.play=490812,this.favorites=0,this.pic="//i2.hdslb.com/bfs/archive/568ac3bf323356d2bfc53624ae0960a215335c61.jpg",this.description="自制 大炮疯脸雷锤圣剑就是一个站撸",this.title="王老菊的血源之旅10：中出宇宙大鱿鱼",this.author="怕上火暴王老菊"}return W()(t,[{key:"init",value:function(t){this.author=t.author,this.comment=t.comment,this.description=t.description,this.pic=t.pic,this.title=t.title,this.play=t.play,this.created=t.created,this.favorites=t.favorites}}]),t}(),G=function(){function t(){B()(this,t),this.name="",this.created=0,this.rawAllList=[]}return W()(t,[{key:"asc",value:function(t){var e=this;return{byPlayCount:function(){return V.sortBy(e.rawAllList,function(t){return-t.play})},byFavorite:function(){return V.sortBy(e.rawAllList,function(t){return-t.favorites})}}}},{key:"desc",value:function(){var t=this;return{byPlayCount:function(){return V.sortBy(t.rawAllList,function(t){return t.play})},byFavorite:function(){return V.sortBy(t.rawAllList,function(t){return t.favorites})}}}},{key:"playCount",get:function(){var t=0;return this.rawAllList.map(function(e){t+=e.play}),t}},{key:"favoritersCount",get:function(){var t=0;return this.rawAllList.map(function(e){t+=e.favorites}),t}}]),t}(),X="https://bird.ioliu.cn/v1?url=",H=X+"https://space.bilibili.com/ajax/member/getSubmitVideos?",J=(S=$()(F.a.mark(function t(e){var n;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.get(H,{params:{mid:e,pagesize:100}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)})),function(t){return S.apply(this,arguments)}),Y=(L=$()(F.a.mark(function t(e){var n;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.get("https://bird.ioliu.cn/v1?url=https://search.bilibili.com/api/search?",{params:{search_type:"bili_user",keyword:e}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)})),function(){var t=$()(F.a.mark(function t(e){var n,r,a,i,s,c,o,u;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],r=!0,a=!1,i=void 0,t.prev=4,s=v()(e);!(r=(c=s.next()).done);r=!0)o=c.value,(u=new N).init(o),n.push(u);t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),a=!0,i=t.t0;case 12:t.prev=12,t.prev=13,!r&&s.return&&s.return();case 15:if(t.prev=15,!a){t.next=18;break}throw i;case 18:return t.finish(15);case 19:return t.finish(12);case 20:return t.abrupt("return",n);case 21:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(e){return t.apply(this,arguments)}}()),Z=function(){var t=$()(F.a.mark(function t(e,n){var r;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.get(H,{params:{mid:e,page:n,pagesize:100}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}();var z,K,T,Q=(z=$()(F.a.mark(function t(e){var n,r,a,i,s;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new G,r=!1,a=0,t.next=5,J(e).then(function(t){var e=t.data;0===(a=e.data.pages)&&(r=!0)});case 5:if(!r){t.next=7;break}return t.abrupt("return","该 Up 暂未投稿");case 7:i=[],s=1;case 9:if(!(s<=a)){t.next=15;break}return t.next=12,Z(e,s).then(function(t){var e=t.data,n=!0,r=!1,a=void 0;try{for(var s,c=v()(e.data.vlist);!(n=(s=c.next()).done);n=!0){var o=s.value;i.push(o)}}catch(t){r=!0,a=t}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}});case 12:s++,t.next=9;break;case 15:return t.next=17,Y(i);case 17:return n.rawAllList=t.sent,n.name=i[0].author,t.abrupt("return",n);case 20:case"end":return t.stop()}},t,this)})),function(t){return z.apply(this,arguments)}),tt=(K=$()(F.a.mark(function t(e){var n,r;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.get("https://bird.ioliu.cn/v1?url=https://search.bilibili.com/api/search?search_type=bili_user",{params:{keyword:e}});case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),function(t){return K.apply(this,arguments)}),et={getUpDetailAction:function(){var t=$()(F.a.mark(function t(e,n){var r,a=e.commit;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("changeLoadingState",!0),t.next=3,Q(n);case 3:r=t.sent,a("changeUpState",r),a("changeLoadingState",!1);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getSearchUserRecAction:function(){var t=$()(F.a.mark(function t(e,n){var r,a,i;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit("changeLoadingState",!0),t.next=3,tt(n);case 3:r=t.sent,a=[],i=[],r.result.map(function(t){a.push(t.uname),i.push(t.mid)}),a=V.uniq(a),e.commit("changeRecUpState",a),e.commit("changeRecUpMIDState",i);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getMainSiteRankAction:(T=$()(F.a.mark(function t(e){var n,r,a,i;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit("changeLoadingState",!0),t.next=3,q.a.get("https://bird.ioliu.cn/v1?url=https://www.bilibili.com/index/rank/all-30-0.json");case 3:n=t.sent,r=n.data,a=[],i=[],r.rank.list.map(function(t){a.push(t.author),i.push(t.mid)}),a=V.uniq(a),e.commit("changeRecUpState",a),e.commit("changeRecUpMIDState",i);case 11:case"end":return t.stop()}},t,this)})),function(t){return T.apply(this,arguments)})},nt={changeUpState:function(t,e){t.Up=e},changeRecUpState:function(t,e){t.RecUp=e},changeRecUpMIDState:function(t,e){t.RecUpMID=e},changeLoadingState:function(t,e){t.Loading=e},changeSearchUserRecState:function(t,e){t.SearchUserRec=e}};r.a.use(b.a);var rt=new b.a.Store({state:I,actions:et,getters:{},mutations:nt,strict:!1});n("j1ja"),n("991W"),n("GiZK");r.a.use(C.a),r.a.config.productionTip=!1,new r.a({el:"#app",router:A,store:rt,components:{App:c},template:"<App/>"})},Ptf6:function(t,e){},aDgW:function(t,e){},aIaS:function(t,e){},dCJx:function(t,e){},mY0C:function(t,e){},qPdb:function(t,e){},qX3s:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5b64f9afd2cc6e7d82b0.js.map